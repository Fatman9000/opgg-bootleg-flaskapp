{% extends "base.html" %}
{% block head %}
<link rel="stylesheet" href="http://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">
{% endblock %}
{% block content %}
<div class="container-fluid name-form">
      <div class="row">
            <div class="col-6">
                  {% block title %}<h3>User</h3>{% endblock title %}
                  <div id="accordion-user">
                        <div class="card">
                              <div class="card-header" id="heading-user">
                                    <h5 class="mb-0">
                                          <button class="btn btn-link" data-toggle="collapse"
                                                data-target="#collapse-user" aria-expanded="true"
                                                aria-controls="collapse-user">
                                                <!-- {{player_info.userData[0]["profileIconId"]}} -->
                                                <img src="/static/11.22.1/img/profileicon/{{ player_info.userData[0]['profileIconId'] }}.png"
                                                      height="32px" width="32px">
                                                {{name}}
                                          </button>
                                    </h5>
                              </div>
                              <div id="collapse-user" class="collapse show" aria-labelledby="heading-user"
                                    data-parent="#accordion-user">
                                    <div class="card-body">
                                          <table>
                                                {% for key,value in player_info.items() %}
                                                <tr>
                                                      <td>{{key}}</td>
                                                      {% if value is iterable and value is not string %}
                                                      <td>
                                                            {% for k in value %}
                                                            {{k}},
                                                            {% endfor %}
                                                      </td>
                                                      {% else %}
                                                      <td>{{value}}</td>
                                                      {% endif %}
                                                </tr>
                                                {% endfor %}
                                          </table>
                                    </div>
                              </div>
                        </div>
                  </div>
            </div>
            <div class="col-6">
                  {% block matchlist %}<h3>Matchlist</h3>{% endblock %}
                  <form action="/matchlist/updated" id="name-form" method=["GET,POST"]>
                        <p>Select the match you wish to view</p>
                        <button class="btn btn-success" type="submit">load new matches</button>
                        </form>
                          <table id="matchtable" class="order-column display table table-striped table-bordered">
                              <thead>
                                    <th>Match Ids</th>
                              </thead>
                              <tbody>
                                    {% for match in player_info["matchIds"] %}
                                    <tr>
                                          <td><a href="/match/{{ match }}">{{ match }}</a></td>
                                    </tr>
                                    {% endfor %}
                              </tbody>
                        </table>
                  
            </div>
      </div>
</div>


{% endblock %}
{% block script %}
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.js"></script>

<script>
      let temp = {
            "order": [[ 0, 'desc' ]]
      }
      $(document).ready(function () {
            $('#matchtable').DataTable(temp);
      });
</script>
{% endblock %}
<!-- <div class="page-header"> -->